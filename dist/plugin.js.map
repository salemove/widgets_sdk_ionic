{"version":3,"file":"plugin.js","sources":["esm/glia-sdk.js","esm/definitions.js","esm/index.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst GliaSdkIonicPlugin = registerPlugin('GliaSdk', {\n// web: () => import('./web').then((m) => new m.GliaSdkWeb()),\n});\nexport class GliaSdkImpl {\n    constructor() {\n        this.unreadMessageCountCallbacks = new Set();\n        this.unreadMessageCount = null;\n        GliaSdkIonicPlugin.addListener('gliaWidgetsUnreadMessageCountChanged', (info) => {\n            let count = info.count;\n            if (count !== this.unreadMessageCount) {\n                this.unreadMessageCountCallbacks.forEach((callback) => callback(count));\n                this.unreadMessageCount = count;\n            }\n        });\n    }\n    async configure(configuration) {\n        let uiUnifiedConfig;\n        if (configuration.uiUnifiedConfig) {\n            if (typeof configuration.uiUnifiedConfig === 'object') {\n                uiUnifiedConfig = JSON.stringify(configuration.uiUnifiedConfig);\n            }\n            else if (typeof configuration.uiUnifiedConfig === 'string') {\n                uiUnifiedConfig = configuration.uiUnifiedConfig;\n            }\n        }\n        return GliaSdkIonicPlugin.configure(Object.assign(Object.assign({}, configuration), { uiUnifiedConfig: uiUnifiedConfig }));\n    }\n    async subscribeToPushNotificationTypes(options) {\n        return GliaSdkIonicPlugin.subscribeToPushNotificationTypes(options);\n    }\n    async presentEntryWidget() {\n        return GliaSdkIonicPlugin.presentEntryWidget();\n    }\n    async showEntryWidget(options) {\n        return GliaSdkIonicPlugin.showEntryWidget(options);\n    }\n    async hideEntryWidget() {\n        return GliaSdkIonicPlugin.hideEntryWidget();\n    }\n    async startChat(options) {\n        if (options) {\n            options.useOptions = true;\n        }\n        return GliaSdkIonicPlugin.startChat(options);\n    }\n    async startAudio(options) {\n        if (options) {\n            options.useOptions = true;\n        }\n        return GliaSdkIonicPlugin.startAudio();\n    }\n    async startVideo(options) {\n        if (options) {\n            options.useOptions = true;\n        }\n        return GliaSdkIonicPlugin.startVideo();\n    }\n    async startSecureConversation() {\n        return GliaSdkIonicPlugin.startSecureConversation();\n    }\n    async startSecureMessaging(options) {\n        return GliaSdkIonicPlugin.startSecureMessaging(options);\n    }\n    async clearVisitorSession() {\n        return GliaSdkIonicPlugin.clearVisitorSession();\n    }\n    async listQueues() {\n        return GliaSdkIonicPlugin.listQueues();\n    }\n    async getQueues() {\n        return GliaSdkIonicPlugin.getQueues();\n    }\n    async showVisitorCodeViewController() {\n        return GliaSdkIonicPlugin.showVisitorCodeViewController();\n    }\n    async showVisitorCode() {\n        return GliaSdkIonicPlugin.showVisitorCode();\n    }\n    async authenticate(options) {\n        return GliaSdkIonicPlugin.authenticate(options);\n    }\n    async deauthenticate(options) {\n        return GliaSdkIonicPlugin.deauthenticate(options);\n    }\n    async isAuthenticated() {\n        const result = await GliaSdkIonicPlugin.isAuthenticatedInternal();\n        return result.isAuthenticated;\n    }\n    async refreshAuthentication(options) {\n        return GliaSdkIonicPlugin.refreshAuthentication(options);\n    }\n    async pauseLiveObservation() {\n        return GliaSdkIonicPlugin.pauseLiveObservation();\n    }\n    async resumeLiveObservation() {\n        return GliaSdkIonicPlugin.resumeLiveObservation();\n    }\n    async getVisitorInfo() {\n        return GliaSdkIonicPlugin.getVisitorInfo();\n    }\n    async updateVisitorInfo(visitorInfo) {\n        return GliaSdkIonicPlugin.updateVisitorInfo(visitorInfo);\n    }\n    async endEngagement() {\n        return GliaSdkIonicPlugin.endEngagement();\n    }\n    subscribeToUnreadMessageCount(callback) {\n        if (this.unreadMessageCount !== null) {\n            callback(this.unreadMessageCount);\n        }\n        this.unreadMessageCountCallbacks.add(callback);\n    }\n    unsubscribeFromUnreadMessageCount(callback) {\n        this.unreadMessageCountCallbacks.delete(callback);\n    }\n}\n//# sourceMappingURL=glia-sdk.js.map","/**\n * @fileoverview GliaWidgets SDK definitions.\n * This file contains TypeScript interfaces and types used in the Glia Ionic SDK.\n */\n/**\n * Site's region. Use `us` for US and other regions except Europe, use `eu` for Europe.\n */\nexport const Region = Object.freeze({\n    US: 'us',\n    EU: 'eu',\n});\n/**\n * Behavior for authentication and deauthentication.\n * FORBIDDEN_DURING_ENGAGEMENT - Do not allow authentication and deauthentication during an ongoing engagement. Default behavior.\n * ALLOWED_DURING_ENGAGEMENT - Allow authentication and deauthentication during an ongoing engagement.\n */\nexport const AuthenticationBehavior = Object.freeze({\n    FORBIDDEN_DURING_ENGAGEMENT: 'forbiddenDuringEngagement',\n    ALLOWED_DURING_ENGAGEMENT: 'allowedDuringEngagement',\n});\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var Queue;\n(function (Queue) {\n    /**\n     * Queue status.\n     */\n    Queue.Status = Object.freeze({\n        OPENED: 'opened',\n        CLOSED: 'closed',\n        FULL: 'full',\n        UNSTAFFED: 'unstaffed',\n    });\n})(Queue || (Queue = {}));\n/**\n * Queue media types.\n */\nexport const MediaType = Object.freeze({\n    TEXT: 'text',\n    PHONE: 'phone',\n    AUDIO: 'audio',\n    VIDEO: 'video',\n    MESSAGING: 'messaging',\n});\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport var VisitorInfoUpdate;\n(function (VisitorInfoUpdate) {\n    /**\n     * Specifies a method for updating the visitor's notes.\n     * replace - The visitor's notes will be overwritten with the notes specified in the request.\n     * append - A line break (\\n) will be added, and the specified notes will be appended to the existing visitorâ€™s notes.\n     */\n    VisitorInfoUpdate.NoteUpdateMethod = Object.freeze({\n        REPLACE: 'replace',\n        APPEND: 'append',\n    });\n    /**\n     * Specifies a method for updating the visitor's custom attributes.\n     * replace - All custom attributes for the visitor will be overwritten with the attributes specified in the request.\n     * merge - Only custom attributes present in the request will be added or updated. Custom attributes can be removed by setting their values to `null`.\n     */\n    VisitorInfoUpdate.CustomAttributesUpdateMethod = Object.freeze({\n        REPLACE: 'replace',\n        MERGE: 'merge',\n    });\n})(VisitorInfoUpdate || (VisitorInfoUpdate = {}));\n/**\n * Available push notifications types.\n */\nexport const PushNotificationType = Object.freeze({\n    /**\n     * The SDK will subscribe to push notifications for when the engagement starts.\n     */\n    START: 'start',\n    /**\n     * The SDK will subscribe to push notifications for when the engagement ends.\n     */\n    END: 'end',\n    /**\n     * The SDK will subscribe to push notifications for when the engagement fails.\n     */\n    FAILED: 'failed',\n    /**\n     * The SDK will subscribe to push notifications for when a new message is received.\n     */\n    MESSAGE: 'message',\n    /**\n     * The SDK will subscribe to push notifications for when the engagement is transferred to another operator.\n     */\n    TRANSFER: 'transfer',\n});\n/**\n * Push notifications environment for iOS.\n */\nexport const PushNotificationsIOS = Object.freeze({\n    /**\n     * Push notifications are disabled.\n     */\n    DISABLED: 'disabled',\n    /**\n     * Push notifications are configured for sandbox environment. Suitable for testing.\n     */\n    SANDBOX: 'sandbox',\n    /**\n     * Push notifications are configured for production environment.\n     */\n    PRODUCTION: 'production',\n});\n//# sourceMappingURL=definitions.js.map","import { GliaSdkImpl } from './glia-sdk';\nconst gliaSdk = new GliaSdkImpl();\nexport * from './definitions';\nexport { gliaSdk as GliaSdk };\n//# sourceMappingURL=index.js.map"],"names":["registerPlugin","Queue","VisitorInfoUpdate"],"mappings":"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"}